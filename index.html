<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Single Transferable Vote</title>

    <link rel="icon" href="data:,">


</head>

<body>

    <h1>Single Transferable Vote</h1>
    <button id="calcResult">Calculate vote result and look at the console ...</button>
    <p>Poll data:</p>
    <pre id="pollData"></pre>


    <script src="/elm.js"></script>
    <script>
        var poll = {
            candidates: ["Amy", "Barbara", "Claus", "Denny", "Edgar"],
            seats: 2,
            ballots: [[1, 2, 3, 5, 4], [1, 3, 4, 5, 2], [1, 5, 2, 4, 3], [3, 4, 2, 5, 1], [3, 5, 2, 1, 4], [2, 4, 3, 1, 5], [3, 4, 2, 5, 1], [3, 5, 4, 1, 2], [5, 2, 4, 1, 3], [2, 3, 4, 1, 5], [4, 3, 1, 5, 2], [3, 5, 4, 2, 1], [4, 3, 5, 1, 2], [5, 2, 4, 3, 1], [1, 3, 4, 5, 2], [3, 4, 2, 5, 1], [2, 5, 3, 1, 4], [2, 4, 3, 1, 5], [4, 5, 3, 1, 2], [4, 5, 1, 3, 2]]
        }

        document.getElementById("pollData").innerHTML = JSON.stringify(poll, null, 2)


        document.getElementById("calcResult").addEventListener("click", function () {
            var app = Elm.Main.init({ flags: poll });
            app.ports.getResult.subscribe(function (result) {
                console.log(result);
            })
        });
    </script>

</body>

</html>
